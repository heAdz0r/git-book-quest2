# План реализации

- [x] 1. Создание структуры проекта и базовой настройки

  - ✅ Создать корневую директорию проекта для веб-приложения
  - ✅ Инициализировать Bun проект для веб-приложения с необходимыми зависимостями
  - ✅ Настроить базовую структуру файлов согласно дизайну
  - ✅ Создать все необходимые компоненты React
  - ✅ Настроить систему валидации ответов с crypto-js
  - ✅ Добавить базовые стили и адаптивный дизайн
  - ✅ Создать README.md с документацией
  - _Требования: 4.1, 4.2, 6.5_

- [x] 2. Создание Git-репозитория с историей через book.txt

  - [x] 2.1 Инициализация репозитория и первый коммит

    - Инициализировать Git-репозиторий в корне проекта
    - Настроить автора как "Андрей Спрогис <andrey.sprogis@flant.ru>"
    - Создать файл book.txt с начальным содержимым коммерческого предложения
    - Сделать первый коммит "Draft: Инициализация структуры коммерческого предложения"
    - _Требования: 1.1, 1.2, 1.3, 2.1_

  - [x] 2.2 Добавление технического решения с секретным словом

    - Добавить в book.txt раздел "Техническое решение" с ключевым словом "прозрачность"
    - Создать коммит "Update: Добавлен раздел с техническим решением"
    - _Требования: 1.3, 2.1_

  - [x] 2.3 Создание ветки для ревью и работа с ней

    - Создать ветку review/tech-lead
    - Добавить в book.txt информацию о сроках реализации (3 месяца)
    - Создать коммит "Review: Добавлены предварительные сроки реализации"
    - _Требования: 2.2, 2.3_

  - [x] 2.4 Настройка .gitignore в main ветке

    - Переключиться обратно в main
    - Создать .gitignore с записью "notes.txt" и "\*.tmp"
    - Создать файл notes.txt с заметкой "Не забыть уточнить бюджет у клиента"
    - Создать коммит "Infra: Настроен файл gitignore для служебных заметок"
    - _Требования: 2.5_

  - [x] 2.5 Слияние ветки ревью

    - Выполнить слияние ветки review/tech-lead в main
    - _Требования: 2.3_

  - [x] 2.6 Добавление стоимости с ошибкой НДС

    - Добавить в book.txt раздел "Стоимость" с неверной ставкой НДС 18%
    - Создать коммит "Update: Добавлен раздел со стоимостью"
    - _Требования: 2.6_

  - [x] 2.7 Исправление ставки НДС

    - Исправить в book.txt ставку НДС с 18% на 20%
    - Создать коммит "Fix: Скорректирована ставка НДС на актуальную"
    - _Требования: 2.6_

  - [x] 2.8 Создание ветки для специального предложения

    - Создать ветку feature/special-offer-acme
    - Заменить в book.txt "Рога и Копыта" на "ACME Corp"
    - Добавить информацию о специальной скидке 15%
    - Создать коммит "Feat: Адаптация КП и добавление скидки для ACME Corp"
    - _Требования: 2.2, 2.4_

  - [x] 2.9 Создание тега для финальной версии

    - Переключиться обратно в main
    - Создать тег v1.0-sent с сообщением 'Финальная версия КП, отправленная клиенту "Рога и Копыта"'
    - _Требования: 2.4_

- [x] 3. Создание структуры данных для викторины (Проверить текущую структуру, часть уже было создано!)

  - [x] 3.1 Создать файл с вопросами викторины

    - Написать questions.js с массивом из 9 вопросов
    - Добавить для каждого вопроса текст, подсказку и тип ответа
    - Структурировать данные согласно модели из дизайна
    - _Требования: 3.1, 3.4, 4.4_

  - [x] 3.2 Реализовать систему зашифрованных ответов
    - Создать encryptedAnswers.js с SHA-256 хешами правильных ответов
    - Реализовать хеширование для всех типов ответов (хеши, текст, команды, числа)
    - Обеспечить нормализацию ответов перед хешированием
    - _Требования: 3.2, 3.5, 8.1, 8.3_

- [x] 4. Разработка утилит для валидации ответов (Проверить, часть уже была создана!)

  - Создать answerValidator.js с функциями validateAnswer() и normalizeInput()
  - Интегрировать crypto-js для SHA-256 хеширования на стороне клиента
  - Реализовать безопасное сравнение хешей
  - Добавить обработку различных типов ответов (хеши, текст, команды)
  - _Требования: 3.2, 3.5, 4.3, 8.2, 8.4_

- [x] 5. Создание React-компонентов для викторины (Проверить, часть уже была создана!)

  - [x] 5.1 Реализовать базовый компонент App

    - Создать корневой компонент App.jsx с управлением состоянием викторины
    - Настроить роутинг между вопросами
    - Реализовать общую логику прогресса викторины
    - _Требования: 4.2, 4.5_

  - [x] 5.2 Создать компонент для отображения вопросов

    - Написать QuestionComponent.jsx для отображения отдельного вопроса
    - Добавить поле ввода ответа с валидацией
    - Реализовать отображение подсказок и кнопки отправки
    - Интегрировать валидацию ответов через answerValidator
    - _Требования: 3.1, 3.4, 3.6, 7.5_

  - [x] 5.3 Реализовать контейнер викторины

    - Создать QuizContainer.jsx для управления логикой викторины
    - Реализовать обработку отправки ответов и переход между вопросами
    - Добавить отслеживание прогресса и подсчет результатов
    - Интегрировать с компонентами вопросов и индикатора прогресса
    - _Требования: 3.1, 3.2, 3.6_

  - [x] 5.4 Создать индикатор прогресса и результаты
    - Написать ProgressIndicator.jsx для отображения текущего прогресса
    - Создать ResultsDisplay.jsx для показа итоговых результатов
    - Реализовать отображение правильных/неправильных ответов без раскрытия правильных значений
    - _Требования: 3.6, 8.5_

- [x] 6. Настройка сборки и зависимостей Bun (Проверить, часть уже была создана!)

  - Создать package.json с необходимыми зависимостями (React, crypto-js)
  - Настроить Bun для сборки и запуска приложения
  - Добавить скрипты для разработки и продакшена
  - Создать базовый HTML файл для приложения
  - _Требования: 4.1, 4.2, 4.3_

- [x] 7. Добавление стилизации и пользовательского интерфейса

  - Создать main.css с базовыми стилями для викторины
  - Стилизовать компоненты вопросов, прогресса и результатов
  - Добавить адаптивный дизайн для различных размеров экрана
  - Реализовать визуальную обратную связь для правильных/неправильных ответов
  - _Требования: 3.6, 7.5_

- [ ] 8. Создание тестов для Git-репозитория

  - [ ] 8.1 Написать скрипт для проверки корректности Git-истории

    - Создать тестовый скрипт для проверки наличия всех необходимых коммитов
    - Добавить проверки для веток, тегов и содержимого файлов
    - Реализовать валидацию всех ключей ответов
    - _Требования: 1.3, 1.4, 2.1, 2.2_

  - [ ] 8.2 Создать интеграционные тесты полного сценария
    - Написать тест полной проверки Git-истории от начала до конца
    - Добавить проверку финального состояния репозитория
    - Реализовать валидацию всех 9 ключей ответов
    - _Требования: 1.1, 1.3, 7.4_

- [ ] 9. Создание тестов для веб-приложения

  - [ ] 9.1 Написать компонентные тесты для React

    - Создать тесты для QuestionComponent с использованием React Testing Library
    - Добавить тесты для QuizContainer и логики викторины
    - Реализовать тесты для ProgressIndicator и ResultsDisplay
    - _Требования: 3.1, 3.6, 4.2_

  - [ ] 9.2 Создать тесты для утилит валидации
    - Написать тесты для функций validateAnswer() и normalizeInput()
    - Добавить тесты для различных типов ответов и нормализации
    - Реализовать тесты безопасности для предотвращения обхода валидации
    - _Требования: 3.2, 3.5, 8.2, 8.3_

- [ ] 10. Создание документации и инструкций

  - Написать README.md с инструкциями по установке и использованию
  - Создать документацию для расширения системы новыми сценариями
  - Добавить примеры использования и troubleshooting
  - Документировать процесс добавления новых вопросов в викторину
  - _Требования: 5.1, 5.2, 5.4, 6.5, 7.5_

- [ ] 11. Финальная интеграция и тестирование системы
  - Провести полное E2E тестирование: создание Git-истории → прохождение викторины
  - Проверить корректность всех 9 вопросов и ответов
  - Валидировать безопасность системы валидации ответов
  - Оптимизировать производительность и исправить найденные проблемы
  - _Требования: 3.1, 3.2, 8.1, 8.4_
